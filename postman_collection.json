{
	"info": {
		"_postman_id": "bc27493d-7ee0-4687-a5dd-25ade7e6f065",
		"name": "CDC API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "30248514",
		"_collection_link": "https://lively-space-813403.postman.co/workspace/a~38b1f74c-0551-4858-8229-36a6eea72640/collection/30248514-bc27493d-7ee0-4687-a5dd-25ade7e6f065?action=share&source=collection_link&creator=30248514"
	},
	"item": [
		{
			"name": "Run Pipeline",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"kafkaConfig\": {\r\n        \"topicPrefix\": \"thirdyearproject\",\r\n        \"bootstrapServer\": \"broker:9092\",\r\n        \"topicStrategy\": \"SINGLE\"\r\n    },\r\n    \"sourceConfig\": {\r\n        \"type\": \"postgres\",\r\n        \"connectionConfig\": {\r\n            \"host\": \"postgres\",\r\n            \"port\": 5432,\r\n            \"database\": \"postgres_db\",\r\n            \"user\": \"postgres_user\",\r\n            \"password\": \"POSTGRES_PASS\"\r\n        },\r\n        \"capturedTables\": [\r\n            {\r\n                \"schema\": \"public\",\r\n                \"table\": \"newtable1\"\r\n            },\r\n            {\r\n                \"schema\": \"public\",\r\n                \"table\": \"newtable2\"\r\n            },\r\n            {\r\n                \"schema\": \"public\",\r\n                \"table\": \"towns\"\r\n            }\r\n        ]\r\n    },\r\n    \"destinationConfig\": {\r\n        \"type\": \"mysql\",\r\n        \"connectionConfig\": {\r\n            \"host\": \"mysql\",\r\n            \"port\": 3306,\r\n            \"user\": \"mysql_user\",\r\n            \"password\": \"MYSQL_PASS\"\r\n        },\r\n        \"prefix\": \"cdc\",\r\n        \"sinkType\": \"TRANSACTIONAL\"\r\n    },\r\n    \"emailConfig\": {\r\n        \"senderEmail\": \"pipelinefailure@gmail.com\",\r\n        \"senderPassword\": \"EMAIL_PASS\",\r\n        \"recipients\": [\r\n            \"peter.hamerrr@gmail.com\",\r\n            \"peter.hamer@student.manchester.ac.uk\"\r\n        ] \r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:8080/pipeline/run",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"pipeline",
						"run"
					]
				}
			},
			"response": []
		},
		{
			"name": "Halt Pipeline",
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "localhost:8080/pipeline/halt",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"pipeline",
						"halt"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Pipeline Status",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:8080/pipeline/status",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"pipeline",
						"status"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Snapshot Metrics",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:8080/pipeline/metrics/snapshot",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"pipeline",
						"metrics",
						"snapshot"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Metrics",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:8080/pipeline/metrics",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"pipeline",
						"metrics"
					]
				}
			},
			"response": []
		}
	]
}